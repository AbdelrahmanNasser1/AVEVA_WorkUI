<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title> Setting Custom Properties for Repository Data Source </title>
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
<meta name="viewport" content="viewport-fit=cover, width=device-width, initial-scale=1, user-scalable=no">

<link rel="stylesheet" type="text/css" href="stylesheet.css" />
<link rel="stylesheet" type="text/css" href="plain.css" />

</head>

<body>
<p id="BetaStatement" class="heading1" style="color:red;background-color:#FFFFFF;border-bottom:none;"></p>
<script type="text/javascript">
var elem = document.getElementById("BetaStatement");
if(elem.innerHTML == "") {
	elem.parentNode.removeChild(elem);
}
</script>
<p id="IncludeRelatedTopics" class="paragraph" style="color: teal; font-weight: bolder;">No</p>
  
<h1 id="t602237" class="heading1">Setting Custom Properties for Repository Data Source</h1>
<p class="paragraph">While creating a data source for repository, use the following custom settings to set properties for a connection pool.</p>
<p class="codeblock1">encrypt=true; nableltm=true; connectionretrywaittime=30; maxconnectionretries=10; sqlcommandtimeout=300;</p>
<p class="paragraph"><b class="uicontrol">encrypt</b>: Ensures secure communication between AVEVA Work Tasks Server and SQL Server when a certificate is installed on the SQL Server for SSL encryption.</p>
<p class="paragraph"><b class="uicontrol">enableltm</b>: AVEVA Work Tasks internally implements lightweight transaction mode by reusing the connection which is already open within the same transaction. With this implementation, a connection which is used from a transaction is returned back to connection pool only when the transaction is completed. Since the same connection is used within the transaction, the transaction becoming distributed is reduced to a great extent. With this feature AVEVA Work Tasks control the transaction from escalating to a distributed transaction which is very expensive.</p>
<p class="paragraph">The&nbsp;enableltm&nbsp;property can be used to turn off this feature. The default value is set as <b class="uicontrol">'True'</b>.</p>
<p class="paragraph"><strong class="strong">connectionretrywaittime</strong>: While opening a new connection, if the database server is not available, the default behavior is to retry for the connection. This setting can be used to set the wait time to retry for a new connection. The default value is set as 30 seconds.</p>
<p class="paragraph"><strong class="strong">maxconnectionretries</strong>: While opening a new connection, if the database server is not available, the default behavior is set to retry for a new connection. This setting can be used to set the retry count. The default value is set infinite.</p>
<p class="paragraph"><strong class="strong">sqlcommandtimeout</strong>: Sets the wait time before terminating the attempt to execute a SQL command and generating an error. The default value is set as 300.</p>
<p class="note"><strong class="notelabel">Note:</strong>&nbsp;These settings are case sensitive and should be mentioned only in lower case.</p>
<p class="paragraph">&nbsp;</p>



<script type="text/javascript">
// Get value of the <IncludeRelatedTopics> variable from AIT
	var IncludeRelTopics = document.getElementById("IncludeRelatedTopics");
//Get all table elements in book and then get all table of the specified class. If you're using IE 9 or later, use following line instead of this code block. 
//	var RelTopics = document.getElementsByClassName("relatedtopics belowtopictext");
    var TableClass = "relatedtopics belowtopictext";
	var arrElements = document.getElementsByTagName("table");
	var RelTopics = new Array();
	for(var i=0; i < arrElements.length; i++){
		if(arrElements[i].className == TableClass){
			RelTopics.push(arrElements[i]);
		}
	}


// Remove Related Topics sections if the <IncludeRelatedTopics> variable is No and the Related Topics section appears in the topic.
	if (IncludeRelTopics.innerHTML == "No" && RelTopics.length != 0) {
		for (var j=0; j < RelTopics.length; j++) {
			RelTopics[j].parentNode.removeChild(RelTopics[j]);
		}
	}
// Remove paragraph used to hold the value of the <IncludeRelatedTopics> variable.
	IncludeRelTopics.parentNode.removeChild(IncludeRelTopics); 
 </script>	

 </body>
 </html>
