<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title> How to Create an Object Instance? </title>
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
<meta name="viewport" content="viewport-fit=cover, width=device-width, initial-scale=1, user-scalable=no">

<link rel="stylesheet" type="text/css" href="stylesheet.css" />
<link rel="stylesheet" type="text/css" href="plain.css" />

</head>

<body>
<p id="BetaStatement" class="heading1" style="color:red;background-color:#FFFFFF;border-bottom:none;"></p>
<script type="text/javascript">
var elem = document.getElementById("BetaStatement");
if(elem.innerHTML == "") {
	elem.parentNode.removeChild(elem);
}
</script>
<p id="IncludeRelatedTopics" class="paragraph" style="color: teal; font-weight: bolder;">No</p>
  
<h5 id="t602339" class="heading5">How to Create an Object Instance?</h5>
<p class="paragraph">The below example shows how the user can create an Object Instance.</p>
<p class="subheading">Creating an Object Instance</p>
<p class="paragraph"><i class="emphasis">Instance creation is required to invoke the members of the object.</i></p>
<ol class="step"><li class="step">Create an instance of 'Product' object. This can be done in the SOA property editor of the<b class="uicontrol">&nbsp;Start Activity</b>.<p class="stepinfo"><strong class="strong">Instantiating SOA Objects</strong></p>
<p class="stepinfo">Instantiating objects can be done by making use of the constructors of the object. The SOA property editor allows to create an object instance by using constructors.</p>
<p class="stepinfo">Instantiating and persisting the object instance can be done in different ways. This is explained below.</p>
<ol class="substep"><li class="substep"><strong class="strong">Creating an instance of the object by using 'Constructors'</strong><p class="substepinfo"><strong class="strong">Description:</strong> In the above example, we have 'Product' object and in order to use the Product object in&nbsp;AVEVA Work Tasks&nbsp;workflows, we need to create an object instance of the 'Product'. Creating object instance can be done in the SOA property editor by using the constructor defined for the 'Product' object.</p>
<p class="substepinfo">Steps:</p>
<ul class="ulsubsubitem"><li class="ulsubsubitem">Click the constructor defined for 'Product' object.</li><li class="ulsubsubitem">Click 'Set' to set the expression/define the constructor parameters. It will open the Expression Editor for setting the expression.       </li><li class="ulsubsubitem">Pass the appropriate parameters to the constructor expression.</li><li class="ulsubsubitem">Save the expression.</li></ul><p class="substepinfo">By creating an object instance, it is possible to build an expression with the methods and properties of the 'Product' class. In the workflow, whenever an expression with the 'Product' object is encountered, the workflow engine will create an instance of the 'Product' object and resolve the expression. Instance creation happens in all the places wherever the expression is associated with the 'Product' object. In this way, the expression with methods and properties of an object gets resolved.</p>
</li><li class="substep"><strong class="strong">Creating an instance of the object using 'Constructors' and mapping the object to a variable</strong><p class="substepinfo"><strong class="strong">Description:</strong> Considering the first approach, in some scenarios there may be a requirement of storing the object and persist it in the long running workflows.</p>
<p class="substepinfo">SOA object mapping provides an option to store object state in a variable. This increases the flexibility in handling the complex object in long running workflows.</p>
<p class="substepinfo">Mapping an object to a variable will persist the object state in the workflow. This happens for the first time whenever an object is instantiated; when you invoke the object after that, it will return the object information which is stored in the variable. This will not only hasten the process of resolving the expression built with the object mapped to a variable, but also persist the object state in long running workflows.</p>
<p class="substepinfo">Mapping an object to a variable can be done at the time of configuring the instance in the 'SOA Property' editor. This approach is explained in depth in the next topic.</p>
<p class="substepinfo"></p>
<p class="substepinfo"><img id="f52847" src="52847.png" class="embeddedimage100%scalinglive" alt="" height="384" width="555" vspace="0" hspace="0" align="bottom" border="0"></p>
<p class="substepinfo"></p>
<p class="substepinfo"><br><img id="f52848" src="52848.png" class="embeddedimage100%scalinglive" alt="" height="453" width="550" vspace="0" hspace="0" align="bottom" border="0"></p>
<p class="substepinfo"></p>
<p class="substepinfo"><strong class="notelabel">Note:</strong> Only objects that are Serializable can be mapped to a variable/persist in the workflow. Variable mapping should be used only when an object needs to be persisted in long running workflows.</p>
</li><li class="substep"><strong class="strong">Mapped Variables</strong><p class="substepinfo"><strong class="strong">Description</strong>: Any object can be directly mapped to a variable without any constructor. In some scenarios, there may be a requirement to store a complex object in a variable. For e.g.: the 'Employee' object returned from a web service.</p>
<p class="substepinfo"></p>
<p class="substepinfo"><img id="f52850" src="52850.png" class="embeddedimage100%scalinglive" alt="" height="376" width="544" vspace="0" hspace="0" align="bottom" border="0"></p>
<p class="substepinfo"></p>
<p class="substepinfo"></p>
<p class="substepinfo"><img id="f52849" src="52849.png" class="embeddedimage100%scalinglive" alt="" height="211" width="545" vspace="0" hspace="0" align="bottom" border="0"></p>
<p class="substepinfo">This can be done by simply assigning the object to a variable in the SOA Expression Editor.</p>
</li></ol></li></ol><table class="relatedtopics belowtopictext" cellpadding="0" cellspacing="0" border="0">
<tr valign="top">
<td>
<p class="relatedheading">Related Topics</p><p class="relateditem"><a href="SOAObjectSupport.html" target="_self">SOA Object Support</a></p></td>
</tr>
</table>



<script type="text/javascript">
// Get value of the <IncludeRelatedTopics> variable from AIT
	var IncludeRelTopics = document.getElementById("IncludeRelatedTopics");
//Get all table elements in book and then get all table of the specified class. If you're using IE 9 or later, use following line instead of this code block. 
//	var RelTopics = document.getElementsByClassName("relatedtopics belowtopictext");
    var TableClass = "relatedtopics belowtopictext";
	var arrElements = document.getElementsByTagName("table");
	var RelTopics = new Array();
	for(var i=0; i < arrElements.length; i++){
		if(arrElements[i].className == TableClass){
			RelTopics.push(arrElements[i]);
		}
	}


// Remove Related Topics sections if the <IncludeRelatedTopics> variable is No and the Related Topics section appears in the topic.
	if (IncludeRelTopics.innerHTML == "No" && RelTopics.length != 0) {
		for (var j=0; j < RelTopics.length; j++) {
			RelTopics[j].parentNode.removeChild(RelTopics[j]);
		}
	}
// Remove paragraph used to hold the value of the <IncludeRelatedTopics> variable.
	IncludeRelTopics.parentNode.removeChild(IncludeRelTopics); 
 </script>	

 </body>
 </html>
