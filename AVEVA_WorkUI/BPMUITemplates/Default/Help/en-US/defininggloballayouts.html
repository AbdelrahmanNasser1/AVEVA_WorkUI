<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title> Defining Global Layouts </title>
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
<meta name="viewport" content="viewport-fit=cover, width=device-width, initial-scale=1, user-scalable=no">

<link rel="stylesheet" type="text/css" href="stylesheet.css" />
<link rel="stylesheet" type="text/css" href="plain.css" />

</head>

<body>
<p id="BetaStatement" class="heading1" style="color:red;background-color:#FFFFFF;border-bottom:none;"></p>
<script type="text/javascript">
var elem = document.getElementById("BetaStatement");
if(elem.innerHTML == "") {
	elem.parentNode.removeChild(elem);
}
</script>
<p id="IncludeRelatedTopics" class="paragraph" style="color: teal; font-weight: bolder;">No</p>
  
<h5 id="t597311" class="heading5">Defining Global Layouts</h5>
<p class="paragraph">AVEVA Work Tasks enables Work items list layouts to be defined for the entire application. If the property GlobalLayout is set to true, the Work item list layout can be defined at the global level.</p>
<p class="procedureheading">To add a Work items list layout using a panel:</p>
<ol class="step"><li class="step">Drag and drop a panel.</li><li class="step">In the underlying code, create a new instance of control and add the instance to the panel as in the following example:<p class="codeblock1">Skelta.Core.ApplicationObject application = new Skelta.Core.ApplicationObject(&quot;Telematics&quot;);//Repository name</p>
<p class="codeblock1">object loggedinUserId = &quot;2d52b2c0-4cf8-4af6-acad-a0c9908eeab5&quot;;</p>
<p class="codeblock1">Skelta.Entity.UserContext uContext = new Skelta.Entity.UserContext(loggedinUserId, application, &quot;skeltalist&quot;);</p>
<p class="codeblock1">Skelta.HWS.WorkListChannel.Web.WorkItemListControl.WorkItemControl WIL = new Skelta.HWS.WorkListChannel.Web.WorkItemListControl.WorkItemControl();</p>
<p class="codeblock1">WIL.ApplicationName = uContext.Repository.ApplicationName;</p>
<p class="codeblock1">WIL.UserIdString = uContext.LoggedInUserId;</p>
<p class="codeblock1">WIL.ID = &quot;WorkItemListControl&quot;;</p>
<p class="codeblock1">WIL.DisplayGroupUI = true;</p>
<p class="codeblock1">WIL.Height = Unit.Percentage(100);</p>
<p class="codeblock1">WIL.ReadingPaneInPopupWindow = true;</p>
<p class="codeblock1">Panel1.Controls.Add(WIL);//add control to the panel</p>
<p class="codeblock1">To load all the AVEVA Work Tasks controls separately on aspx page, set the user context first.For example:</p>
<p class="codeblock1">Skelta.Entity.UserContext uContext = new Skelta.Entity.UserContext(loggedinUserId, application, &quot;skeltalist&quot;)</p>
</li><li class="step">In the underlying code, create a new instance of control and add the instance to the panel in the&nbsp;OnInit&nbsp;as shown in the following example:<p class="codeblock1">Skelta.Core.ApplicationObject application = new Skelta.Core.ApplicationObject(&quot;Telematics&quot;);//Repository name</p>
<p class="codeblock1">object loggedinUserId = &quot;2d52b2c0-4cf8-4af6-acad-a0c9908eeab5&quot;;</p>
<p class="codeblock1">Skelta.Entity.UserContext uContext = new Skelta.Entity.UserContext(loggedinUserId, application, &quot;skeltalist&quot;);</p>
<p class="codeblock1">Skelta.HWS.WorkListChannel.Web.WorkItemListControl.WorkItemControl WIL = new Skelta.HWS.WorkListChannel.Web.WorkItemListControl.WorkItemControl();</p>
<p class="codeblock1">WIL.ApplicationName = uContext.Repository.ApplicationName;</p>
<p class="codeblock1">WIL.UserIdString = uContext.LoggedInUserId;</p>
<p class="codeblock1">WIL.ID = &quot;WorkItemListControl&quot;;</p>
<p class="codeblock1">WIL.DisplayGroupUI = true;</p>
<p class="codeblock1">WIL.Height = Unit.Percentage(100);</p>
<p class="codeblock1">WIL.ReadingPaneInPopupWindow = true;</p>
<p class="codeblock1">Panel1.Controls.Add(WIL);//add control to the panel</p>
<p class="note"><strong class="notelabel">Note:</strong> The default view of the Work items list in the<strong class="strong"> Enterprise Console</strong> can be customized. For more information about using <b class="uicontrol">AVEVA Work Tasks Controls</b> as a part of a project, see&nbsp;<i class="emphasis">Using AVEVA Work Tasks Controls in Applications</i>&nbsp;in the&nbsp;<i class="emphasis">Developer Guide</i>.</p>
</li></ol><p class="bodytext"></p>



<script type="text/javascript">
// Get value of the <IncludeRelatedTopics> variable from AIT
	var IncludeRelTopics = document.getElementById("IncludeRelatedTopics");
//Get all table elements in book and then get all table of the specified class. If you're using IE 9 or later, use following line instead of this code block. 
//	var RelTopics = document.getElementsByClassName("relatedtopics belowtopictext");
    var TableClass = "relatedtopics belowtopictext";
	var arrElements = document.getElementsByTagName("table");
	var RelTopics = new Array();
	for(var i=0; i < arrElements.length; i++){
		if(arrElements[i].className == TableClass){
			RelTopics.push(arrElements[i]);
		}
	}


// Remove Related Topics sections if the <IncludeRelatedTopics> variable is No and the Related Topics section appears in the topic.
	if (IncludeRelTopics.innerHTML == "No" && RelTopics.length != 0) {
		for (var j=0; j < RelTopics.length; j++) {
			RelTopics[j].parentNode.removeChild(RelTopics[j]);
		}
	}
// Remove paragraph used to hold the value of the <IncludeRelatedTopics> variable.
	IncludeRelTopics.parentNode.removeChild(IncludeRelTopics); 
 </script>	

 </body>
 </html>
