<!doctype html>
<html>
<head>
    <title>Instance XML</title>
    <meta http-equiv="content-type" content="Type=text/html; charset=utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <script src="js/jquery.min.js" type="text/javascript"></script>
    <script src="js/xml2json.min.js" type="text/javascript"></script>
    <script src="app/Skelta.Designer.min.js" type="text/javascript"></script>
    <script src="../Common/JavaScripts/AutoLogoff.js"></script>
    <link rel="stylesheet" href="../CommonUXControls/StyleSheet/se.ui.min.css" />
    <style>
        *
        {
            -moz-box-sizing: border-box;
            -webkit-box-sizing: border-box;
            box-sizing: border-box;
        }

        html, body, form
        {
            margin: 0;
            padding: 0;
            width: 100%;
            height: 100%;
        }

        form
        {
            padding: 10px;
        }

        textarea
        {
            width: 100%;
            height: 100%;
            border: 1px solid black;
            resize: none;
        }
    </style>
    <script type="text/javascript">
        var flag = true;
        var skeltaUtils = skelta.forms.utilities;
        var logger = skeltaUtils.getLogger();
        $(document).ready(function ()
        {
            var InstanceXMLData = window.opener.sessionStorage.getItem('currentInstanceXML');
            if (InstanceXMLData === null || InstanceXMLData === undefined)
            {
                skeltaUtils.showAlert(skelta.localize.getString("FormNGFAlertInstanceXML"));
                logger.logInformation(skelta.localize.getString("FormNGFAlertInstanceXML"));
            }
            document.title = skelta.localize.getString("FormNGFInstanceXmlTitle");
            loadViewAndViewModelFromServer(InstanceXMLData);
        });

        function loadViewAndViewModelFromServer(InstanceXMLData)
        {
            var convJSONXml = new X2JS();
            $("textarea#InstanceXmlBox").val(convJSONXml.json2xml_str($.parseJSON(InstanceXMLData)));
        }
    </script>
</head>
<body>
    <form id="frmInstanceXML">
        <textarea readonly="readonly" id="InstanceXmlBox"></textarea>
    </form>
</body>
</html>
