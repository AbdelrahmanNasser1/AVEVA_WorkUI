/*!
 *	jQuery dotdotdot 1.7.4
 *
 *	Copyright (c) Fred Heusschen
 *	www.frebsite.nl
 *
 *	Plugin website:
 *	dotdotdot.frebsite.nl
 *
 *	Licensed under the MIT license.
 *	http://en.wikipedia.org/wiki/MIT_License
 */
(function(n,t){function v(n,t,r){var e=n.children(),o=!1,u,s,f;for(n.empty(),u=0,s=e.length;u<s;u++)if(f=e.eq(u),n.append(f),r&&n.append(r),i(n,t)){f.remove();o=!0;break}else r&&r.detach();return o}function e(t,r,u,f,o){var s=!1,h="a, table, thead, tbody, tfoot, tr, col, colgroup, object, embed, param, ol, ul, dl, blockquote, select, optgroup, option, textarea, script, style",c="script, .dotdotdot-keep";return t.contents().detach().each(function(){var a=this,l=n(a);if(typeof a=="undefined")return!0;if(l.is(c))t.append(l);else{if(s)return!0;t.append(l);!o||l.is(f.after)||l.find(f.after).length||t[t.is(h)?"after":"append"](o);i(u,f)&&(s=a.nodeType==3?y(l,r,u,f,o):e(l,r,u,f,o),s||(l.detach(),s=!0));s||o&&o.detach()}}),r.addClass("is-truncated"),s}function y(t,f,e,s,c){var l=t[0],nt,k,d;if(!l)return!1;var y=h(l),tt=y.indexOf(" ")!==-1?" ":"　",p=s.wrap=="letter"?"":tt,a=y.split(p),g=-1,w=-1,b=0,v=a.length-1;for(s.fallbackToLetter&&b==0&&v==0&&(p="",a=y.split(p),v=a.length-1);b<=v&&!(b==0&&v==0);){if(nt=Math.floor((b+v)/2),nt==w)break;w=nt;u(l,a.slice(0,w+1).join(p)+s.ellipsis);e.children().each(function(){n(this).toggle().toggle()});i(e,s)?(v=w,s.fallbackToLetter&&b==0&&v==0&&(p="",a=a[0].split(p),g=-1,w=-1,b=0,v=a.length-1)):(g=w,b=w)}return g==-1||a.length==1&&a[0].length==0?(k=t.parent(),t.detach(),d=c&&c.closest(k).length?c.length:0,k.contents().length>d?l=r(k.contents().eq(-1-d),f):(l=r(k,f,!0),d||k.detach()),l&&(y=o(h(l),s),u(l,y),d&&c&&n(l).parent().append(c))):(y=o(a.slice(0,g+1).join(p),s),u(l,y)),!0}function i(n,t){return n.innerHeight()>t.maxHeight}function o(t,i){while(n.inArray(t.slice(-1),i.lastCharacter.remove)>-1)t=t.slice(0,-1);return n.inArray(t.slice(-1),i.lastCharacter.noEllipsis)<0&&(t+=i.ellipsis),t}function s(n){return{width:n.innerWidth(),height:n.innerHeight()}}function u(n,t){n.innerText?n.innerText=t:n.nodeValue?n.nodeValue=t:n.textContent&&(n.textContent=t)}function h(n){return n.innerText?n.innerText:n.nodeValue?n.nodeValue:n.textContent?n.textContent:""}function c(n){do n=n.previousSibling;while(n&&n.nodeType!==1&&n.nodeType!==3);return n}function r(t,i,u){var e=t&&t[0],f;if(e){if(!u){if(e.nodeType===3)return e;if(n.trim(t.text()))return r(t.contents().last(),i)}for(f=c(e);!f;){if(t=t.parent(),t.is(i)||!t.length)return!1;f=c(t[0])}if(f)return r(n(f),i)}return!1}function p(t,i){return t?typeof t=="string"?(t=n(t,i),t.length?t:!1):t.jquery?t:!1:!1}function w(n){for(var t,r=n.innerHeight(),u=["paddingTop","paddingBottom"],i=0,f=u.length;i<f;i++)t=parseInt(n.css(u[i]),10),isNaN(t)&&(t=0),r-=t;return r}var f,l,a;n.fn.dotdotdot||(n.fn.dotdotdot=function(t){var r;if(this.length==0)return n.fn.dotdotdot.debug('No element found for "'+this.selector+'".'),this;if(this.length>1)return this.each(function(){n(this).dotdotdot(t)});r=this;r.data("dotdotdot")&&r.trigger("destroy.dot");r.data("dotdotdot-style",r.attr("style")||"");r.css("word-wrap","break-word");r.css("white-space")==="nowrap"&&r.css("white-space","normal");r.bind_events=function(){r.on("update.dot",function(t,f){r.removeClass("is-truncated");t.preventDefault();t.stopPropagation();switch(typeof u.height){case"number":u.maxHeight=u.height;break;case"function":u.maxHeight=u.height.call(r[0]);break;default:u.maxHeight=w(r)}u.maxHeight+=u.tolerance;typeof f!="undefined"&&((typeof f=="string"||"nodeType"in f&&f.nodeType===1)&&(f=n("<div />").append(f).contents()),f instanceof n&&(c=f));h=r.wrapInner('<div class="dotdotdot" />').children();h.contents().detach().end().append(c.clone(!0)).find("br").replaceWith("  <br />  ").end().css({height:"auto",width:"auto",border:"none",padding:0,margin:0});var s=!1,l=!1;return o.afterElement&&(s=o.afterElement.clone(!0),s.show(),o.afterElement.detach()),i(h,u)&&(l=u.wrap=="children"?v(h,u,s):e(h,r,h,u,s)),h.replaceWith(h.contents()),h=null,n.isFunction(u.callback)&&u.callback.call(r[0],l,c),o.isTruncated=l,l}).on("isTruncated.dot",function(n,t){return n.preventDefault(),n.stopPropagation(),typeof t=="function"&&t.call(r[0],o.isTruncated),o.isTruncated}).on("originalContent.dot",function(n,t){return n.preventDefault(),n.stopPropagation(),typeof t=="function"&&t.call(r[0],c),c}).on("destroy.dot",function(n){n.preventDefault();n.stopPropagation();r.unwatch().unbind_events().contents().detach().end().append(c).attr("style",r.data("dotdotdot-style")||"").data("dotdotdot",!1)});return r};r.unbind_events=function(){return r.unbind(".dot"),r};r.watch=function(){if(r.unwatch(),u.watch=="window"){var t=n(window),i=t.width(),f=t.height();t.on("resize.dot"+o.dotId,function(){i==t.width()&&f==t.height()&&u.windowResizeFix||(i=t.width(),f=t.height(),l&&clearInterval(l),l=setTimeout(function(){r.trigger("update.dot")},100))})}else a=s(r),l=setInterval(function(){if(r.is(":visible")){var n=s(r);(a.width!=n.width||a.height!=n.height)&&(r.trigger("update.dot"),a=n)}},500);return r};r.unwatch=function(){return n(window).unbind("resize.dot"+o.dotId),l&&clearInterval(l),r};var c=r.contents(),u=n.extend(!0,{},n.fn.dotdotdot.defaults,t),o={},a={},l=null,h=null;return u.lastCharacter.remove instanceof Array||(u.lastCharacter.remove=n.fn.dotdotdot.defaultArrays.lastCharacter.remove),u.lastCharacter.noEllipsis instanceof Array||(u.lastCharacter.noEllipsis=n.fn.dotdotdot.defaultArrays.lastCharacter.noEllipsis),o.afterElement=p(u.after,r),o.isTruncated=!1,o.dotId=f++,r.data("dotdotdot",!0).bind_events().trigger("update.dot"),u.watch&&r.watch(),r},n.fn.dotdotdot.defaults={ellipsis:"... ",wrap:"word",fallbackToLetter:!0,lastCharacter:{},tolerance:0,callback:null,after:null,height:null,watch:!1,windowResizeFix:!0},n.fn.dotdotdot.defaultArrays={lastCharacter:{remove:[" ","　",",",";",".","!","?"],noEllipsis:[]}},n.fn.dotdotdot.debug=function(){},f=1,l=n.fn.html,n.fn.html=function(i){return i!=t&&!n.isFunction(i)&&this.data("dotdotdot")?this.trigger("update",[i]):l.apply(this,arguments)},a=n.fn.text,n.fn.text=function(i){return i!=t&&!n.isFunction(i)&&this.data("dotdotdot")?(i=n("<div />").text(i).html(),this.trigger("update",[i])):a.apply(this,arguments)})})(jQuery);
/*!
// ------------------------------------------------------------------------------------------------------------
// <copyright company="Schneider Electric Software, LLC" file="se.ui.js">
//   © 2015 Schneider Electric Software, LLC. All rights reserved.
//
// THIS CODE AND INFORMATION ARE PROVIDED "AS IS" WITHOUT WARRANTY OF ANY
// KIND, EITHER EXPRESSED OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE
// IMPLIED WARRANTIES OF MERCHANTABILITY AND/OR FITNESS FOR A
// PARTICULAR PURPOSE.
// </copyright>
// <author>Rupesh Kokal</author>
// <date>2015-07-21</date>
// <summary>
// This module contains the common UI/UX Web components.
// </summary>
// ------------------------------------------------------------------------------------------------------------
*/
window.se||function(){function n(){var n=this}n.prototype.createNamespace=function(){for(var f=arguments,i=null,e,o,u,t,r=0;r<f.length;r++){u="";try{(typeof f[r]=="string"||f[r]instanceof String)&&(u=f[r].toString())}catch(s){u=""}if(u!="")for(o=(""+u).split("."),i=window,e=0;e<o.length;e++)t=o[e],!t||t.length<0?t="_":t.indexOf(" ")>-1&&(t=t.replace(/\s+/g,"_")),i[t]=i[t]||new n(i,t),i=i[t]}};window.se=window.se||new n(null,"se")}();se.utils||(se.utils=function(n){function t(n){return typeof n=="undefined"||n==null}function e(n){return!t(n)&&typeof n=="object"}function r(n){return!t(n)&&(typeof n=="string"||n instanceof String)}function i(n){return!t(n)&&Object.prototype.toString.apply(n)==="[object Array]"}function o(n){return!t(n)&&typeof n=="function"}function s(n,t){return i(n)?t<0||t>n.length-1?!1:!0:!1}function h(u,f){var e;if(!t(f))return i(f)||(f=[f]),n.each(f,function(n,t){if(r(u[t]))return e=u[t],!1}),e}function c(){try{return t(window.parent)?void 0:window.parent===window?void 0:t(window.parent.$)?void 0:u(window.parent)?window.parent:void 0}catch(n){return}}function l(){try{return t(window.top)?void 0:window.top===window?void 0:t(window.top.$)?void 0:u(window.top)?window.top:void 0}catch(n){return}}function u(n){try{return n.$('<div style="display:none"/>').remove(),!0}catch(t){}return!1}function a(){var t=n("body");return t.length<1&&(t=n("html")),t}function f(n){var i,t,r;try{if(n=n||window.document,n.body===n.activeElement||n.activeElement.tagName.toLowerCase()=="iframe"){for(i=n.getElementsByTagName("iframe"),t=0;t<i.length;t++)if(r=f(i[t].contentWindow.document),r!==!1)return r}else return n.activeElement}catch(u){console.log("Error encountered while checking active element:");console.log("  -  "+u.message)}return!1}function v(t){var r="",i=n("<div/>").html(t);return i.children("br").after("\n").remove(),r=i.text(),i.remove(),r}function y(){var n=!1,i;try{i=window.location.pathname.match(/_layouts\/[0-9][0-9]\/BPMUI/i);!t(i)&&i.length>0?n=!0:t(window.SP)||t(window.SP.ClientContext)?t(window._spPageContextInfo)||t(window._spPageContextInfo.layoutsUrl)||(n=!0):n=!0}catch(r){}return n}return{isUndefined:t,isString:r,isObject:e,isArray:i,isFunction:o,isValidArrayIndex:s,getFirstValueFromMemberArrayInObject:h,getParentAccessibleWindow:c,getTopLevelAccessibleWindow:l,getBodyElement:a,getActiveElement:f,getTextFromHTMLForMessage:v,isSharePointEnvironment:y}}(jQuery));se.ui||function(n){se.createNamespace("se.ui");var i=se.utils,t=se.ui;(function(){var r=function(){var t=this;this.$element=n("<a />").text(this._options.text).attr("title",this._options.tooltip).addClass("se-ui-image-link");this._options.imageClassName!==""&&this.$element.addClass(this._options.imageClassName);this._options.className!==""&&this.$element.addClass(this._options.className);this.$element.click(function(){var n=t._options;(i.isUndefined(n.callback)||n.callback(n.value)!=!1)&&(i.isUndefined(n.callAfterCallback)||n.callAfterCallback(n.value))})},u=function(){this.$element.remove();delete this.$element};t.ImageLink=function(t){this._options={key:"",text:"",value:"",tooltip:"",imageClassName:"",className:"",callback:undefined,callAfterCallback:function(){}};i.isUndefined(t)&&(t={});n.extend(!0,this._options,t);r.call(this)};t.ImageLink.prototype.dispose=function(){u.call(this)}})(),function(){var r=function(){var t=this;this.$element=n('<input type="button" />').attr("value",this._options.text).attr("title",this._options.tooltip).addClass("se-ui-button");this._options.defaultFocus&&this.$element.addClass("se-ui-button-defaultfocus");this._options.className!==""&&this.$element.addClass(this._options.className);this.$element.click(function(){var n=t._options;(i.isUndefined(n.callback)||n.callback(n.value)!=!1)&&(i.isUndefined(n.callAfterCallback)||n.callAfterCallback(n.value))})},u=function(){this.$element.remove();delete this.$element};t.Button=function(t){this._options={key:"",defaultFocus:!1,text:"",value:"",tooltip:"",className:"",callback:undefined,callAfterCallback:function(){}};i.isUndefined(t)&&(t={});n.extend(!0,this._options,t);r.call(this)};t.Button.prototype.dispose=function(){u.call(this)}}(),function(){var r=function(r){var f=this;i.isUndefined(r)&&(r={});n.each(r,function(r,e){var o,s;u.call(f,r)||(o=n.extend(!0,{},e,{key:r}),i.isFunction(o.callback)||i.isUndefined(f._options.handlerFn)||(o.callback=f._options.handlerFn),s=new t.Button(o),f._collection.push(s),f._options.reverseOrder?f.$element.prepend(s.$element):f.$element.append(s.$element))})},u=function(t){var i=!1;return n.each(this._collection,function(n,r){if(r._options.key==t)return i=!0,!1}),i},f=function(){while(this._collection.length>0){var n=this._collection.pop();n.dispose()}},e=function(){this.$element=n("<div />").addClass("se-ui-buttons-container se-flex-item-align-item-end");this._options.className!==""&&this.$element.addClass(this._options.className);r.call(this,this._options.buttons)},o=function(){f.call(this);this.$element.remove();delete this.$element};t.Buttons=function(t){this._options={className:"",reverseOrder:!0,buttons:{}};i.isUndefined(t)&&(t={});n.extend(!0,this._options,t);this._collection=[];e.call(this)};t.Buttons.prototype.getButtonWithKey=function(t){var i;return n.each(this._collection,function(n,r){if(r._options.key==t)return i=r,!1}),i};t.Buttons.prototype.dispose=function(){o.call(this)}}(),function(){var r=function(){var r=this,t;f.call(this);this.$element=n("<div/>").addClass("se-ui-overlay-container se-flex-container se-flex-container-direction-column se-flex-container-align-items-stretch se-flex-container-justify-content-center");this.$element.on("mouseup",function(){r.$elementFirst.focus()});this.$element.on("focus",function(){r.$elementFirst.focus()});n(window).on("focus.se.message",function(){r.$elementFirst.focus()});this._options.className!==""&&this.$element.addClass(this._options.className);this.$elementFirst=n("<div />").on("keydown",function(n){var t=n.which||n.keyCode;t===9&&n.shiftKey&&(r.$elementLast.focus(),n.preventDefault(),n.stopPropagation());t===32&&(n.preventDefault(),n.stopPropagation())}).appendTo(this.$element).attr("tabindex","0");t=i.getBodyElement();this._options.hideScroll&&(this._options.trackScroll&&(this._scrollTop=t.scrollTop(),this._scrollLeft=t.scrollLeft()),this._overflow=t[0].style.overflow);this.$elementDummyBodyFirst=n("<div />").on("focus",function(){r.$elementFirst.focus()}).prependTo(t).attr("tabindex","0");this.$element.appendTo(t);this._options.hideScroll&&t.css("overflow","hidden")},u=function(){if(n(window).off("focus.se.message"),this.$elementDummyBodyFirst.remove(),delete this.$elementDummyBodyFirst,this.$elementFirst.remove(),delete this.$elmentFirst,this.$elementLast.remove(),delete this.$elementLast,this.$element.remove(),delete this.$element,this._options.hideScroll){var t=i.getBodyElement();i.isUndefined(this._overflow)||(t[0].style.overflow=this._overflow);this._options.trackScroll&&(t.scrollTop(this._scrollTop),t.scrollLeft(this._scrollLeft))}e.call(this)},f=function(){this.originalFocusElement=i.getActiveElement();this._restoreFocus=this._options.restoreFocus},e=function(){try{if(this._restoreFocus===!0)try{this.originalFocusElement.focus()}catch(t){}delete this.originalFocusElement;delete this._restoreFocus}catch(n){console.log("Focus to the active element could not be set:");console.log("  -  "+n.message)}};t.Overlay=function(u){this._options={hideScroll:t.messageDialogDefaults.hideScroll,trackScroll:t.messageDialogDefaults.trackScroll,restoreFocus:t.messageDialogDefaults.restoreFocus,className:""};i.isUndefined(u)&&(u={});n.extend(!0,this._options,u);r.call(this)};t.Overlay.prototype.suppressFocus=function(){this._restoreFocus=!1};t.Overlay.prototype.addLastElement=function(){var t=this;this.$elementLast=n("<div />").on("keydown",function(n){var i=n.which||n.keyCode;i!==9||n.shiftKey||(t.$elementFirst.focus(),n.preventDefault(),n.stopPropagation());i===32&&(n.preventDefault(),n.stopPropagation())}).appendTo(this.$element).attr("tabindex","0")};t.Overlay.prototype.dispose=function(){u.call(this)}}(),function(){t.messageDialogTypes={notification:"notification",warning:"warning",confirmation:"confirmation",error:"error",custom:"custom"};t.messageDialogTarget={currentWindow:"currentWindow",parentWindow:"parentWindow",topWindow:"topWindow"};t.messageDialogDefaults={messageDialogTarget:t.messageDialogTarget.topWindow,hideScroll:!0,trackScroll:!1,restoreFocus:!0,buttonReverseOrder:!0,okButtonCaption:"OK",cancelButtonCaption:"Cancel",closeButtonCaption:"Close",showDetailsCaption:"More",hideDetailsCaption:"Less",showMoreImageClassName:"se-ui-image-down-arrow",hideMoreImageClassName:"se-ui-image-up-arrow"};t.messageDialogConstants={titleParam:"title",messageParam:"message",buttonCaptionParam:"buttonCaption",okButtonCaptionParam:"okButtonCaption",cancelButtonCaptionParam:"cancelButtonCaption",closeButtonCaptionParam:"closeButtonCaption",detailsParam:"details",showDetailsCaptionParam:"showDetailsCaption",hideDetailsCaptionParam:"hideDetailsCaption",classNameParam:"className",handlerFnParam:"handlerFn"};var r=function(n,t,r,u){var e=t,f;return i.isString(t)&&t!==""||(i.isUndefined(this._globalOptions.localization[n])||(f=i.getFirstValueFromMemberArrayInObject(this._globalOptions.localization[n],r)),(i.isUndefined(f)||f==="")&&(f=i.getFirstValueFromMemberArrayInObject(this._globalOptions.localization,r),(i.isUndefined(f)||f==="")&&(f=u)),e=f),e},o=function(n,u,f,e,o,s,h){var a=this,c,l;arguments.length>=2&&arguments.length<=3&&(c=arguments[1],i.isObject(c)?(u=c[t.messageDialogConstants.titleParam],f=c[t.messageDialogConstants.messageParam],o=c[t.messageDialogConstants.okButtonCaptionParam],s=c[t.messageDialogConstants.cancelButtonCaptionParam],h=c[t.messageDialogConstants.classNameParam],e=c[t.messageDialogConstants.handlerFnParam]):arguments.length==3?(l=arguments[2],i.isFunction(l)&&(e=l,i.isString(c)&&(f=c,u=""))):arguments.length==2&&i.isString(c)&&(f=c,u=""));n!==t.messageDialogTypes.warning&&(n=t.messageDialogTypes.confirmation);i.isString(u)||(u="");i.isString(f)||(f="");o=r.call(this,n,o,t.messageDialogConstants.okButtonCaptionParam,t.messageDialogDefaults.okButtonCaption);s=r.call(this,n,s,t.messageDialogConstants.cancelButtonCaptionParam,t.messageDialogDefaults.cancelButtonCaption);i.isString(h)||(h="");i.isFunction(e)||(e=undefined);this.show({title:u,message:f,type:n,className:h,buttonsOptions:{buttons:{ok:{text:o,value:!0,defaultFocus:!0},cancel:{text:s,value:!1,callAfterCallback:function(){a.close()}}},handlerFn:e}})},s=function(){this._resizeTimeOut=null;this._showMoreLink.$element.hide();this._hideMoreLink.$element.hide();u.call(this);this.$elementMessage.removeClass("se-ui-message-show-more-options");this.$elementMessage.removeClass("se-ui-message-show-more");v.call(this,175);e.call(this,40);h.call(this);y.call(this)?(u.call(this),this.$elementMessage.addClass("se-ui-message-show-more-options"),f.call(this,!1)):u.call(this)},f=function(n){var t=this._showMoreLink,i=this._hideMoreLink;n===!0?(t.$element.hide(),i.$element.show(),u.call(this),e.call(this,80)):(t.$element.show(),i.$element.hide(),e.call(this,40),h.call(this))},h=function(){if(this.$messageDescription.data("dotdotdot")){var n=this.$messageDescription.triggerHandler("isTruncated.dot");n||this.$messageDescription.trigger("update.dot")}else this.$messageDescription.dotdotdot({ellipsis:"... ",wrap:"letter",fallbackToLetter:!0,after:null,watch:!1,height:null,tolerance:-20,callback:function(){},lastCharacter:{remove:[" ",",",";",".","!","?"],noEllipsis:[]}});this.$elementMessage.removeClass("se-ui-message-show-more")},u=function(){if(this.$messageDescription.data("dotdotdot")){var n=this.$messageDescription.triggerHandler("isTruncated.dot");this.$messageDescription.trigger("destroy.dot")}this.$elementMessage.addClass("se-ui-message-show-more")},c=function(t,i){var r=t,u;return r-=40,n(".se-ui-message-title").text()!==""&&(u=n(".se-ui-message-title").outerHeight(),r-=u,i-=u),r-=n(".se-ui-message-footer").outerHeight(),r<i&&(r=i),r},v=function(n){var t=c.call(this,n,100);this.$messageDescription.css("min-height",t+"px")},e=function(n){var t=c.call(this,n/100*this._overlay.$element.height(),parseFloat(this.$messageDescription.css("min-height")));this.$messageDescription.css("max-height",t+"px")},y=function(){return this.$messageDescription.data("dotdotdot")?this.$messageDescription.triggerHandler("isTruncated.dot"):!1},l=function(n){this._options=n;w.call(this)},p=function(){return"se-ui-message-type-"+this._options.type},w=function(){function v(n){var t=n.which||n.keyCode;!t||t!==13||n.altKey||n.ctrlKey||n.shiftKey||n.stopPropagation()}var r=this,f,e,o,c,l;this._overlay=new t.Overlay({hideScroll:this._globalOptions.hideScroll,trackScroll:this._globalOptions.trackScroll,restoreFocus:this._globalOptions.restoreFocus});this.$elementMessage=n("<div />").addClass("se-ui-message-container se-flex-container se-flex-container-direction-row se-flex-container-justify-content-center se-flex-container-align-items-stretch");n("<div/>").addClass("se-ui-message-type").addClass(p.call(this)).appendTo(this.$elementMessage);var a=n("<div/>").addClass("se-ui-message-details-container").appendTo(this.$elementMessage),h=n("<div/>").addClass("se-ui-message-details-sub-container se-flex-container se-flex-container-direction-column se-flex-container-align-items-stretch").appendTo(a),u=this._options.title;i.isString(u)||(u="");f=n("<div/>").addClass("se-ui-message-title");f.html(u);h.append(f);u===""&&f.hide();e=this._options.message;i.isString(e)||(e="");o=this._options.details;i.isString(o)||(o="");this.$messageDescription=n("<div/>").addClass("se-ui-message-description se-flex-item-flex-grow");this.$messageDescription.html(e+"<br/>"+o);h.append(this.$messageDescription);c=n("<div/>").addClass("se-ui-message-footer se-flex-container se-flex-container-direction-row se-flex-container-justify-content-space-between se-flex-container-align-items-stretch").appendTo(h);this._showMoreLink=new t.ImageLink(this._options.showDetails);this._hideMoreLink=new t.ImageLink(this._options.hideDetails);n("<div/>").append(this._showMoreLink.$element).append(this._hideMoreLink.$element).appendTo(c);this._buttons=new t.Buttons(this._options.buttonsOptions);this._buttons.$element.appendTo(c);this._overlay.$element.keydown(function(n){var u=n.which||n.keyCode,t;u&&u===27?(t=r._buttons.getButtonWithKey("cancel"),i.isUndefined(t)&&(t=r._buttons.getButtonWithKey("ok")),i.isUndefined(t)||t.$element.click(),n.preventDefault()):!u||u!==13||n.altKey||n.ctrlKey||n.shiftKey||(t=r._buttons.getButtonWithKey("ok"),i.isUndefined(t)&&(t=r._buttons.getButtonWithKey("cancel")),i.isUndefined(t)||t.$element.click(),n.preventDefault());n.stopPropagation()});this.$elementMessage.keydown(v);this._overlay.$element.append(this.$elementMessage);this._overlay.addLastElement();s.call(this);n(window).on("resize.se.ui.ellipsis",function(){this._resizeTimeOut&&clearTimeout(this._resizeTimeOut);this._resizeTimeOut=setTimeout(function(){s.call(r)},200)});l=this._overlay.$element.find(".se-ui-button-defaultfocus");setTimeout(function(){l.length>0?l.focus():this._overlay.$elementFirst.focus()},100)},a=function(){!this._overlay.$element.has(i.getActiveElement()).length>0&&this.suppressFocus();this._resizeTimeOut&&clearTimeout(this._resizeTimeOut);this._resizeTimeOut=null;n(window).off("resize.se.ui.ellipsis");this._buttons.dispose();delete this._buttons;this._showMoreLink.dispose();delete this._showMoreLink;this._hideMoreLink.dispose();delete this._hideMoreLink;this.$messageDescription.remove();delete this.$messageDescription;this.$elementMessage.remove();delete this.$elementMessage;this._overlay.dispose();delete this._overlay};MessageDialog=function(r){this._globalOptions={target:t.messageDialogDefaults.messageDialogTarget,buttonReverseOrder:t.messageDialogDefaults.buttonReverseOrder,hideScroll:t.messageDialogDefaults.hideScroll,trackScroll:t.messageDialogDefaults.trackScroll,restoreFocus:t.messageDialogDefaults.restoreFocus,showMoreImageClassName:t.messageDialogDefaults.showMoreImageClassName,hideMoreImageClassName:t.messageDialogDefaults.hideMoreImageClassName,localization:{closeButtonCaption:t.messageDialogDefaults.closeButtonCaption,okButtonCaption:t.messageDialogDefaults.okButtonCaption,cancelButtonCaption:t.messageDialogDefaults.cancelButtonCaption,showDetailsCaption:t.messageDialogDefaults.showDetailsCaption,hideDetailsCaption:t.messageDialogDefaults.hideDetailsCaption}};i.isUndefined(r)&&(r={});n.extend(!0,this._globalOptions,r);this._messageQueue=[]};MessageDialog.prototype.suppressFocus=function(){i.isUndefined(this._overlay)||this._overlay.suppressFocus()};MessageDialog.prototype.setGlobalOptions=function(t){i.isUndefined(t)&&(t={});n.extend(!0,this._globalOptions,t)};MessageDialog.prototype.getWindowObject=function(){try{var n;switch(this._globalOptions.target){case t.messageDialogTarget.parentWindow:n=i.getParentAccessibleWindow();break;case t.messageDialogTarget.topWindow:n=i.getTopLevelAccessibleWindow();break;default:return}return!i.isUndefined(n)&&!i.isUndefined(n.se)&&!i.isUndefined(n.se.ui)?n:void 0}catch(r){return}};MessageDialog.prototype.showAlert=function(n,u,f,e,o){if(arguments.length==1){var s=arguments[0];i.isString(s)?(u=s,n="",o="",f=undefined):i.isObject(s)&&(n=s[t.messageDialogConstants.titleParam],u=s[t.messageDialogConstants.messageParam],e=s[t.messageDialogConstants.buttonCaptionParam],o=s[t.messageDialogConstants.classNameParam],f=s[t.messageDialogConstants.handlerFnParam])}i.isString(n)||(n="");i.isString(u)||(u="");e=r.call(this,t.messageDialogTypes.notification,e,[t.messageDialogConstants.buttonCaptionParam,t.messageDialogConstants.closeButtonCaptionParam],t.messageDialogDefaults.closeButtonCaption);i.isString(o)||(o="");i.isFunction(f)||(f=undefined);this.show({title:n,message:u,type:t.messageDialogTypes.notification,className:o,buttonsOptions:{buttons:{ok:{text:e,value:"ok",defaultFocus:!0,callback:f}}}})};MessageDialog.prototype.showConfirmation=function(){var n=[t.messageDialogTypes.confirmation].concat(Array.prototype.slice.call(arguments));o.apply(this,n)};MessageDialog.prototype.showWarning=function(){var n=[t.messageDialogTypes.warning].concat(Array.prototype.slice.call(arguments));o.apply(this,n)};MessageDialog.prototype.showError=function(n,u,f,e,o,s){var c=this,h;arguments.length==1&&(h=arguments[0],i.isString(h)?(u=h,n="",s="",f=undefined,e=""):i.isObject(h)&&(n=h[t.messageDialogConstants.titleParam],u=h[t.messageDialogConstants.messageParam],o=h[t.messageDialogConstants.buttonCaptionParam],s=h[t.messageDialogConstants.classNameParam],f=h[t.messageDialogConstants.handlerFnParam],e=h[t.messageDialogConstants.detailsParam]));i.isString(n)||(n="");i.isString(u)||(u="");i.isString(e)||(e="");o=r.call(this,t.messageDialogTypes.error,o,[t.messageDialogConstants.buttonCaptionParam,t.messageDialogConstants.closeButtonCaptionParam],t.messageDialogDefaults.closeButtonCaption);i.isString(s)||(s="");i.isFunction(f)||(f=undefined);this.show({title:n,message:u,type:t.messageDialogTypes.error,details:e,className:s,buttonsOptions:{buttons:{ok:{text:o,value:"ok",defaultFocus:!0,callback:f}}}})};MessageDialog.prototype.show=function(u){var s,o,e,c,h;if(!i.isSharePointEnvironment()&&(s=this.getWindowObject(),!i.isUndefined(s))){s.se.ui.messageDialog.show(u);return}if(o=this,e={title:"",message:"",className:"",type:t.messageDialogTypes.notification,buttonsOptions:{reverseOrder:this._globalOptions.buttonReverseOrder,buttons:{ok:{text:t.messageDialogDefaults.closeButtonCaption,value:"ok",defaultFocus:!0,callAfterCallback:function(){o.close()}}}}},i.isUndefined(u)&&(u={}),n.extend(!0,e,u),e.showDetailsCaption=r.call(this,e.type,e.showDetailsCaption,t.messageDialogConstants.showDetailsCaptionParam,t.messageDialogDefaults.showDetailsCaption),e.hideDetailsCaption=r.call(this,e.type,e.hideDetailsCaption,t.messageDialogConstants.hideDetailsCaptionParam,t.messageDialogDefaults.hideDetailsCaption),n.extend(!0,e,{showDetails:{text:e.showDetailsCaption,value:"",imageClassName:t.messageDialogDefaults.showMoreImageClassName,callback:function(){f.call(o,!0)}},hideDetails:{text:e.hideDetailsCaption,imageClassName:t.messageDialogDefaults.hideMoreImageClassName,value:"",callback:function(){f.call(o,!1)}}}),i.isSharePointEnvironment()){try{switch(e.type){case t.messageDialogTypes.confirmation:case t.messageDialogTypes.warning:c=confirm(i.getTextFromHTMLForMessage(e.message));i.isUndefined(e.buttonsOptions.handlerFn)||e.buttonsOptions.handlerFn(c);break;case t.messageDialogTypes.error:h=e.message;i.isString(e.details)&&e.details!==""&&(h+="<br>"+e.details);alert(i.getTextFromHTMLForMessage(h));i.isUndefined(e.buttonsOptions.buttons.ok.callback)||e.buttonsOptions.buttons.ok.callback();break;default:alert(i.getTextFromHTMLForMessage(e.message));i.isUndefined(e.buttonsOptions.buttons.ok.callback)||e.buttonsOptions.buttons.ok.callback()}}catch(a){}return}(this._messageQueue.push(e),this._messageQueue.length>1)||l.call(this,e)};MessageDialog.prototype.close=function(){var n=this.getWindowObject();if(!i.isUndefined(n)){n.se.ui.messageDialog.close();return}a.call(this);this._messageQueue.shift();delete this._options;this._messageQueue.length>0&&l.call(this,this._messageQueue[0])};MessageDialog.prototype.dispose=function(){a.call(this)};t.messageDialog=new MessageDialog({target:t.messageDialogTarget.topWindow})}()}(jQuery)