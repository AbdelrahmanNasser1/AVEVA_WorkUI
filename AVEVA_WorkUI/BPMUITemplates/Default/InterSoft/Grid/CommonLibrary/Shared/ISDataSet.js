function ISDataSet(a){this._Type="ISDataSet";ISObject.call(this);this.Name=a;this.DataSetName=a;this.EnforceConstraints=true;this.ExtendedProperties=new ISArray();this.ExtendedProperties.Parent=this;this.Namespace=null;this.Prefix=null;this.Relations=new ISArray();this.Relations.Parent=this;this.Tables=new ISArray();this.Tables.Parent=this;this.MergeFailed=null;this._Schema=null;this.__getter=function(b){return ISDataSetEngine.__getter(this,b)};this.__setter=function(c,d,b){return ISDataSetEngine.__setter(this,c,d,b)}}var pISDS=ISDataSet.prototype;pISDS.AcceptChanges=function(){ISDataSetEngine.AcceptChanges(this)};pISDS.Clear=function(){ISDataSetEngine.Clear(this)};pISDS.Copy=function(){return ISDataSetEngine.Copy(this)};pISDS.Clone=function(){return ISDataSetEngine.Clone(this)};pISDS.HasErrors=function(){return ISDataSetEngine.HasErrors(this)};pISDS.GetChanges=function(a){return ISDataSetEngine.GetChanges(this,a)};pISDS.GetXml=function(){return ISDataSetEngine.GetXml(this)};pISDS.GetXmlSchema=function(){return ISDataSetEngine.GetXmlSchema(this)};pISDS.HasChanges=function(a){return ISDataSetEngine.HasChanges(this,a)};pISDS.Merge=function(a){ISDataSetEngine.Merge(this,a)};pISDS.ReadXml=function(a,b){return ISDataSetEngine.ReadXml(this,a,b)};pISDS.ReadXmlSchema=function(a){ISDataSetEngine.ReadXmlSchema(this,a)};pISDS.RejectChanges=function(){ISDataSetEngine.RejectChanges(this)};pISDS.OnMergeFailed=function(a){ISDataSetEngine.OnMergeFailed(this,a)};pISDS.WriteXml=function(a){return ISDataSetEngine.WriteXml(this,a)};pISDS.WriteXmlSchema=function(){return ISDataSetEngine.WriteXmlSchema(this)};var ISDataSetEngine={AcceptChanges:function(a){for(var b=0;b<a.Tables.length;b++){a.Tables[b].AcceptChanges()}},Clear:function(a){for(var b=0;b<a.Tables.length;b++){a.Tables[b].Clear()}},Copy:function(a){var b=ISDataSetEngine.Clone(a);return b},Clone:function(b){var d=new ISDataSet(b.DataSetName);d.Name=b.DataSetName;d.DataSetName=b.DataSetName;d.EnforceConstraints=b.EnforceConstraints;d.ExtendedProperties=b.ExtendedProperties;d.ExtendedProperties.Parent=d;d.Tables=new ISArray();d.Tables.Parent=d;for(var c=0;c<b.Tables.length;c++){d.Tables.Add(b.Tables[c].Clone(d))}for(var c=0;c<b.Tables.length;c++){b.Tables[c].Clone2ForDataSet(d.Tables.GetNamedItem(b.Tables[c].TableName))}d.Namespace=b.Namespace;d.Prefix=b.Prefix;d.Relations=new ISArray();d.Relations.Parent=d;var a;for(var c=0;c<b.Relations.length;c++){a=b.Relations[c];d.Relations.Add(a.Clone(d.Tables.GetNamedItem(a.ParentTable.TableName),d.Tables.GetNamedItem(a.ChildTable.TableName)))}d.MergeFailed=b.MergeFailed;return d},HasErrors:function(a){var b=false;for(var c=0;c<a.Tables.length;c++){if(a.Tables[c].HasErrors()){b=true;break}}return b},GetChanges:function(b,a){},GetXml:function(a){return a.WriteXml()},GetXmlSchema:function(a){return a.WriteXmlSchema()},HasChanges:function(b,a){var c;for(var d=0;d<b.Tables.length;d++){c=b.Tables[d].HasChanges(a);if(c==true){break}}return c},Merge:function(a,b){return a},ReadXml:function(a,c,d){if(c==null){throw new ISArgumentException("xml parameter cannot be empty.")}if(d==null){d=XmlReadMode.Auto}if(typeof(c)=="string"){var b=c;c=ISXML.CreateXMLDocument();c.loadXML(b)}if(d==XmlReadMode.Auto){d=ISDataTableEngine.DetectXmlReadMode(a._Schema,c)}switch(d){case XmlReadMode.DiffGram:ISDataSetEngine.ReadXmlDiffGram(a,c);break;case XmlReadMode.Fragment:ISDataSetEngine.ReadXmlFragment(a,c);break;case XmlReadMode.IgnoreSchema:ISDataSetEngine.ReadXmlIgnoreSchema(a,c);break;case XmlReadMode.InferSchema:ISDataSetEngine.ReadXmlInferSchema(a,c);break;case XmlReadMode.InferTypedSchema:ISDataSetEngine.ReadXmlInferTypedSchema(a,c);break;case XmlReadMode.ReadSchema:ISDataSetEngine.ReadXmlReadSchema(a,c);break}return d},ReadXmlSchema:function(a,c){for(var b=0;b<a.Tables.length;b++){a.Tables[b].ReadXmlSchema(c)}},RejectChanges:function(a){for(var b=0;b<a.Tables.length;b++){a.Tables[b].RejectChanges()}},ReadXmlDiffGram:function(a,g){var f,b,e,d;f=ISDataSetEngine.GetTableNamesFromDiffGram(g);b=ISData.GetNodeByNamespaceDeclaration("urn:schemas-microsoft-com:xml-diffgram-v1",g.documentElement);for(var c=0;c<a.Tables.length;c++){d=a.Tables[c];if(f.indexOf(d.TableName)>-1){ISDataTableEngine.ReadXmlDiffGram(d,g)}}},GetTableNamesFromDiffGram:function(g){var f,e,c,d,b;f="";e=g.selectSingleNode("//DocumentElement");for(var a=0;a<e.childNodes.length;a++){d=e.childNodes[a];if(d.nodeType!=1){continue}c=d.nodeName;b=false;if(f.indexOf(c)<0){f+=c+";";b=true;break}}e=g.selectSingleNode("//diffgr:before");for(var a=0;a<e.childNodes.length;a++){d=e.childNodes[a];if(d.nodeType!=1){continue}c=d.nodeName;b=false;if(f.indexOf(c)<0){f+=c+";";b=true;break}}return f},ReadXmlFragment:function(b,c){for(var a=0;a<b.Tables.length;a++){ISDataTableEngine.ReadXmlFragment(b.Tables[a],diffGram)}},ReadXmlIgnoreSchema:function(b,c){for(var a=0;a<b.Tables.length;a++){ISDataTableEngine.ReadXmlIgnoreSchema(b.Tables[a],diffGram)}},ReadXmlInferSchema:function(b,c){for(var a=0;a<b.Tables.length;a++){ISDataTableEngine.ReadXmlInferSchema(b.Tables[a],diffGram)}},ReadXmlInferTypedSchema:function(b,c){for(var a=0;a<b.Tables.length;a++){ISDataTableEngine.ReadXmlInferTypedSchema(b.Tables[a],diffGram)}},ReadXmlReadSchema:function(b,c){for(var a=0;a<b.Tables.length;a++){ISDataTableEngine.ReadXmlReadSchema(b.Tables[a],c)}},OnMergeFailed:function(a,b){ISEvent.Raise(a.MergeFailed,a,b)},WriteXml:function(a,c){var b;switch(c){case XmlWriteMode.DiffGram:b=ISDataSetEngine.WriteXmlInDiffGram(a);break;case XmlWriteMode.WriteSchema:b=ISDataSetEngine.WriteXmlWithSchema(a);break;case XmlWriteMode.IgnoreSchema:default:b=ISDataSetEngine.WriteXmlIgnoreSchema(a);break}return b},WriteXmlInDiffGram:function(a){var d,c,e,f,g;d='<diffgr:diffgram xmlns:msdata="urn:schemas-microsoft-com:xml-msdata" xmlns:diffgr="urn:schemas-microsoft-com:xml-diffgram-v1">';d+="<DocumentElement>";e="";for(var b=0;b<a.Tables.length;b++){f=a.Tables[b].WriteXml(XmlWriteMode.DiffGram);f=f.substr(f.indexOf("<DocumentElement>")+17);d+=f.substr(0,f.indexOf("</DocumentElement>"));f=f.substr(f.indexOf("<diffgr:before>")+15);e+=f.substr(0,f.indexOf("</diffgr:before>"))}d+="</DocumentElement>";d+="<diffgr:before>"+e+"</diffgr:before></diffgr:diffgram>";return d},WriteXmlWithSchema:function(a){var c,g,h,j,l,k;h="";var f,e,b;b=a.Name==null||a.Name==""?"NewDataSet":a.Name;for(var d=0;d<a.Tables.length;d++){c=a.Tables[d];f=ISSchema.GetDataTablesSchema(c.Schema);for(var d=0;d<f.childNodes.length;d++){if(f.childNodes[d].getAttribute("name")==c.TableName){e=f.childNodes[d];break}}l+=e.xml;k+=ISSchema.GetUniqueConstraintsNode(e.ownerDocument,c.TableName);k+=ISSchema.GetForeignKeyConstraintsNode(e.ownerDocument,c.TableName);h+=ISDataTableEngine.WriteCurrentRowInXml(c)}j='<xs:schema id="'+b+'" xmlns="" xmlns:xs="http://www.w3.org/2001/XMLSchema" xmlns:msdata="urn:schemas-microsoft-com:xml-msdata">';j+='<xs:element name="'+b+'" msdata:IsDataSet="true" msdata:UseCurrentLocale="true">';j+="<xs:complexType>";j+='<xs:choice minOccurs="0" maxOccurs="unbounded">';j+=l;j+="</xs:choice></xs:complexType>";j+=k;j+="</xs:element>";j+="</xs:schema>";g='<?xml version="1.0" standalone="yes"?><'+b+">";g+=j+h;g+="</"+b+">";return g},WriteXmlIgnoreSchema:function(a){var c,b;b=a.Name==null||a.Name==""?"NewDataSet":a.Name;var e='<?xml version="1.0" standalone="yes"?><'+b+">";for(var d=0;d<a.Tables.length;d++){c=a.Tables[d];e+=ISDataTableEngine.WriteCurrentRowInXml(c)}e+="</"+b+">";return e},WriteXmlSchema:function(a){var c,h,j,k,m,l;var f,e,b,g;b=a.Name==null||a.Name==""?"NewDataSet":a.Name;f=l="";for(var d=0;d<a.Tables.length;d++){c=a.Tables[d];f=ISSchema.GetDataTablesSchema(c.Schema);for(var d=0;d<f.childNodes.length;d++){if(f.childNodes[d].getAttribute("name")==c.TableName){e=f.childNodes[d];break}}m+=e.xml;g=ISSchema.GetUniqueConstraintsNode(e.ownerDocument,c.TableName);l+=g!=null?g:"";g=ISSchema.GetForeignKeyConstraintsNode(e.ownerDocument,c.TableName);l+=g!=null?g:""}k='<xs:schema id="'+b+'" xmlns="" xmlns:xs="http://www.w3.org/2001/XMLSchema" xmlns:msdata="urn:schemas-microsoft-com:xml-msdata">';k+='<xs:element name="'+b+'" msdata:IsDataSet="true" msdata:UseCurrentLocale="true">';k+="<xs:complexType>";k+='<xs:choice minOccurs="0" maxOccurs="unbounded">';k+=m;k+="</xs:choice></xs:complexType>";k+=l;k+="</xs:element>";k+="</xs:schema>";h='<?xml version="1.0" standalone="yes"?><'+b+">";h+=k;h+="</"+b+">";return h},__getter:function(a,b){return a[b]},__setter:function(b,c,d,a){switch(c){case"EnforceConstraints":ISDataSetEngine.SetEnforceConstraints(b,d);break;default:dataTable[c]=d;break}},SetEnforceConstraints:function(b,h){if(h==true){var g,a,f,c;c=true;for(var d=0;d<b.Tables.length;d++){g=b.Tables[d];for(var e=0;e<g.Constraints.length;e++){a=g.Constraints[e];if(a.GetType()=="ISUniqueConstraint"){if(a.IsConstraintViolatedForOwnTable()){c=false;break}}}if(c==false){break}}if(c==true){for(var d=0;d<b.Tables.length;d++){g=b.Tables[d];for(var e=0;e<g.Constraints.length;e++){a=g.Constraints[e];if(a.GetType()=="ISForeignKeyConstraint"){if(a.IsConstraintViolatedForOwnTable()){c=false;break}}}if(c==false){break}}}if(c==false){throw new ISConstraintException("Failed to enable constraints. One or more rows contain values violating non-null, unique, or foreign-key constraints.");return}}b.EnforceConstraints=h}};function ISDataRelation(c,d,a,b){this._Type="ISDataSet";ISObject.call(this);this.Name=c;this.IsCreateConstraint=b==null?true:b;this.ChildColumns=null;this.ChildKeyConstraint=null;this.ChildTable=null;this.DataSet=null;this.ExtendedProperties=new ISArray();this.Nested=false;this.ParentColumns=new ISArray();this.ParentKeyConstraint=null;this.ParentTable=null;this.RelationName=c;ISDataRelationEngine.Initialize(this,d,a,b)}var pISDRel=ISDataRelation.prototype;pISDRel.OnAdd=function(){ISDataRelationEngine.OnAdd(this)};pISDRel.OnRemove=function(){ISDataRelationEngine.OnRemove(this)};pISDRel.Clone=function(b,a){return ISDataRelationEngine.Clone(this,b,a)};var ISDataRelationEngine={Clone:function(a,e,c){var d=new ISDataRelation(a.Name);d.Name=a.Name;d.IsCreateConstraint=a.IsCreateConstraint;d.ChildColumns=new Array();for(var b=0;b<a.ChildColumns.length;b++){d.ChildColumns[b]=c.Columns.GetNamedItem(a.ChildColumns[b].ColumnName)}d.ChildKeyConstraint=c.Constraints.GetNamedItem(a.ChildKeyConstraint.ForeignKeyConstraintName);d.ChildTable=c;d.DataSet=c.DataSet;d.ExtendedProperties=a.ExtendedProperties;d.Nested=a.Nested;d.ParentColumns=new ISArray();for(var b=0;b<a.ParentColumns.length;b++){d.ParentColumns[b]=e.Columns.GetNamedItem(a.ParentColumns[b].ColumnName)}d.ParentKeyConstraint=e.Constraints.GetNamedItem(a.ChildKeyConstraint.UniqueConstraintName);d.ParentTable=e;d.RelationName=a.RelationName;return d},Initialize:function(b,d,a,c){if(a==null){b.ChildColumns=new Array()}else{if(typeof(a.join)!="undefined"){b.ChildColumns=a}else{b.ChildColumns=new Array();b.ChildColumns[0]=a}b.Table=b.ChildColumns[0].Table}if(d==null){b.ParentColumns=new Array()}else{if(typeof(d.join)!="undefined"){b.ParentColumns=d}else{b.ParentColumns=new Array();b.ParentColumns[0]=d}b.ParentTable=b.ParentColumns[0].Table}if(c==true){ISDataRelationEngine.CreateConstraint(b)}},CreateConstraint:function(a){var d;if(a.ParentColumns.length>0){d=a.ParentColumns[0].Table;a.ParentTable=d;var e=new ISUniqueConstraint(a.RelationName,a.ParentColumns,false);var c=false;if(d.IsEnforceConstraints()&&e.IsConstraintViolatedForOwnTable()){throw new ISConstraintException("Failed to enable constraints. One or more rows contain values violating non-null, unique, or foreign-key constraints.")}else{a.ParentKeyConstraint=e;d.Constraints.Add(e)}}if(a.ChildColumns.length>0&&a.ParentColumns.length>0){d=a.ChildColumns[0].Table;a.ChildTable=d;var b=new ISForeignKeyConstraint(a.RelationName,a.ParentColumns,a.ChildColumns);if(d.IsEnforceConstraints()&&b.IsConstraintViolatedForOwnTable()){throw new ISConstraintException("Failed to enable constraints. One or more rows contain values violating non-null, unique, or foreign-key constraints.")}else{a.ChildKeyConstraint=b;d.Constraints.Add(b)}}},OnAdd:function(a){if(a.IsCreateConstraint==true){ISDataRelationEngine.CreateConstraint(a)}},OnRemove:function(a){}};