var SlidebarEngine={_dragobject:null,_slider:null,_container:null,_tx:0,_ty:0,_timeoutId:null,_intervalId:null,_stopInterval:false,_direction:null,_Id:null,_active:false,_getClientLeft:function(a){return ISPosLib.getClientLeft(a)},_getClientTop:function(a){return ISPosLib.getClientTop(a)},onMouseDownHandler:function(g){var f=g;var j;var h;SlidebarEngine._Id=f;if(IS.IsAvailableRuntimeObjectById(g)){objSlidebar=IS.GetRuntimeObjectById(g);j=objSlidebar.Type}h=document.getElementById(f+"_slider");if(window.event.srcElement.id==h.id){SlidebarEngine._dragobject=h;var d=SlidebarEngine._dragobject;if(j=="y"){SlidebarEngine._ty=(window.event.clientY-d.style.pixelTop)}else{SlidebarEngine._tx=(window.event.clientX-d.style.pixelLeft)}window.event.returnValue=false;window.event.cancelBubble=true;SlidebarEngine._active=true}else{var h=document.getElementById(f);if(window.event.srcElement.id==h.id||window.event.srcElement.id==h.id+"_track"){SlidebarEngine._container=h;var b=SlidebarEngine._container;var a=window.event.srcElement.children;if(a.length==0){a=b.children}for(var e=0;a.length;e++){if(a[e].id==f+"_slider"){SlidebarEngine._slider=a[e];break}}var c;if(j=="y"){SlidebarEngine._ty=(window.event.clientY-b.style.pixelTop);c=event.clientY}else{SlidebarEngine._tx=(window.event.clientX-b.style.pixelLeft);c=event.clientX}window.event.cancelBubble=true;SlidebarEngine._direction=null;SlidebarEngine._stopInterval=false;SlidebarEngine._moveIt(c,j,g);SlidebarEngine._timeoutId=window.setTimeout("SlidebarEngine.onContainerDownHandler("+c+", '"+j+"', '"+g+"')",300);SlidebarEngine._active=true}else{SlidebarEngine._dragobject=null;SlidebarEngine._active=false}}},_moveIt:function(b,k,g){var a=SlidebarEngine._container;var h=SlidebarEngine._slider;var i=SlidebarEngine._tx;var j=SlidebarEngine._ty;var d;if(a){if(IS.IsAvailableRuntimeObjectById(g)){d=IS.GetRuntimeObjectById(g)}var e;e=h.parentElement;if(d.Value==d.MinValue&&d.Value==d.MaxValue){return}if(k=="y"){if(b>=0){if((b-j>=0)&&(b-j<=a.offsetHeight-h.offsetHeight)){if(!SlidebarEngine._isExceed(b,SlidebarEngine._getClientTop(h),k)){if(b<SlidebarEngine._getClientTop(h)){if(d.Interval>0){var c=(d.IntervalLarge>0)?d.IntervalLarge:d.Interval;var f=((d.Height-d.SliderSize)/(d.MaxValue-d.MinValue));h.style.top=f*((d.Value-d.MinValue)-c)}else{h.style.top=h.style.pixelTop-h.offsetHeight}if(h.style.pixelTop<=0){h.style.top=0}SlidebarEngine._direction=-1}else{if(d.Interval>0){var c=(d.IntervalLarge>0)?d.IntervalLarge:d.Interval;var f=((d.Height-d.SliderSize)/(d.MaxValue-d.MinValue));h.style.top=f*((d.Value-d.MinValue)+c)}else{h.style.top=h.style.pixelTop+h.offsetHeight}if(h.style.pixelTop>a.offsetHeight-h.offsetHeight){h.style.top=e.clientHeight-h.offsetHeight}SlidebarEngine._direction=1}}}}}else{if(b>=0){if((b-i>=0)&&(b-i<=a.offsetWidth-h.offsetWidth)){if(!SlidebarEngine._isExceed(b,SlidebarEngine._getClientLeft(h),k)){if(b<SlidebarEngine._getClientLeft(h)){if(d.Interval>0){var c=(d.IntervalLarge>0)?d.IntervalLarge:d.Interval;var f=((d.Width-d.SliderSize)/(d.MaxValue-d.MinValue));h.style.left=(f*((d.Value-d.MinValue)-c))+"px"}else{h.style.left=(h.style.pixelLeft-h.offsetWidth)+"px"}if(h.style.pixelLeft<=0){h.style.left="0px"}SlidebarEngine._direction=-1}else{if(d.Interval>0){var c=parseFloat((d.IntervalLarge>0)?d.IntervalLarge:d.Interval);var f=((d.Width-d.SliderSize)/(d.MaxValue-d.MinValue));h.style.left=(f*((d.Value-d.MinValue)+c))+"px"}else{h.style.left=h.style.pixelLeft+h.offsetWidth+"px"}if(h.style.pixelLeft>a.offsetWidth-h.offsetWidth){h.style.left=(e.clientWidth-h.offsetWidth)+"px"}SlidebarEngine._direction=1}}}}}if(d.Interval>0){d.Value=Math.round(SlidebarEngine._CalculateValue(h,k,g))+parseFloat(d.MinValue)}else{d.Value=SlidebarEngine._CalculateValue(h,k,g)+parseFloat(d.MinValue)}d._onChangeHandler()}},onContainerDownHandler:function(a,c,b){SlidebarEngine._moveIt(a,c,b);window.clearInterval(SlidebarEngine._intervalId);if(!SlidebarEngine._stopInterval){SlidebarEngine._intervalId=window.setInterval("SlidebarEngine.onContainerDownHandler("+a+", '"+c+"', '"+b+"')",50)}},_isExceed:function(b,c,e){var a;var d=SlidebarEngine._slider;if(e=="x"){a=d.offsetWidth}else{a=d.offsetHeight}if(SlidebarEngine._direction==1){if(b<=c+a){SlidebarEngine._stopInterval=true;return true}else{return false}}else{if(SlidebarEngine._direction==-1){if(b>=c){SlidebarEngine._stopInterval=true;return true}else{return false}}}return false},onMouseUpHandler:function(){if(SlidebarEngine._dragobject){var b=SlidebarEngine._Id;var a=IS.GetRuntimeObjectById(b);a._onDragEndHandler();SlidebarEngine._dragobject=null;if(SlidebarEngine._container){SlidebarEngine._container=null;SlidebarEngine._slider=null}document.body.style.cursor="default"}window.clearInterval(SlidebarEngine._intervalId);window.clearTimeout(SlidebarEngine._timeoutId)},onMouseMoveHandler:function(){var g;var a=SlidebarEngine._dragobject;var e=SlidebarEngine._tx;var f=SlidebarEngine._ty;var b;if(a){SlidebarId=SlidebarEngine._Id;if(IS.IsAvailableRuntimeObjectById(SlidebarId)){b=IS.GetRuntimeObjectById(SlidebarId);g=b.Type}var c;c=a.parentElement;if(b.Value==b.MinValue&&b.Value==b.MaxValue){window.event.returnValue=false;window.event.cancelBubble=true;return}if(g=="y"){if(event.clientY>=0){if((event.clientY-f>=0)&&(event.clientY-f<=c.offsetHeight-a.offsetHeight)){if(b.Interval>0){var d=((b.Height-b.SliderSize)/(b.MaxValue-b.MinValue))*b.Interval;a.style.top=SlidebarEngine._Rounding(d,event.clientY-f)}else{a.style.top=event.clientY-f}}if(event.clientY-f<0){a.style.top="0"}if(event.clientY-f>c.offsetHeight-a.offsetHeight-0){a.style.top=c.offsetHeight-a.offsetHeight}}}else{if(event.clientX>=0){if((event.clientX-e>=0)&&(event.clientX-e<=c.offsetWidth-a.offsetWidth)){if(b.Interval>0){var d=((b.Width-b.SliderSize)/(b.MaxValue-b.MinValue))*b.Interval;a.style.left=(SlidebarEngine._Rounding(d,event.clientX-e))+"px"}else{a.style.left=(event.clientX-e)+"px"}}if(event.clientX-e<0){a.style.left="0px"}if(event.clientX-e>c.clientWidth-a.offsetWidth-0){a.style.left=(c.clientWidth-a.offsetWidth)+"px"}}}if(b.Interval>0){b.Value=Math.round(SlidebarEngine._CalculateValue(a,g,SlidebarId))+parseFloat(b.MinValue)}else{b.Value=SlidebarEngine._CalculateValue(a,g,SlidebarId)+parseFloat(b.MinValue)}b._onChangeHandler();window.event.returnValue=false;window.event.cancelBubble=true;document.body.style.cursor="hand"}},_CreateSlider:function(a){var b;var c;if(a.SliderImage==""){c=document.createElement("DIV");c.style.background="buttonface";if(a.Type=="x"){c.style.height="100%";c.style.width=a.SliderSize}else{c.style.width="100%";c.style.height=a.SliderSize}}else{c=document.createElement("IMG");c.src=a.Grid.ResolveImagePathEx(a.SliderImage);if(a.Type=="x"){c.height=a.Height}else{c.width=a.Width;c.height=a.SliderSize}}c.id=a.Id+"_slider";c.style.overflow="hidden";c.style.position="relative";c.style.cursor="pointer";c.style.zIndex=2;if(a.Type=="x"){b=((a.Width-a.SliderSize)/(a.MaxValue-a.MinValue));c.style.pixelLeft=b*(a.Value-a.MinValue)}else{b=((a.Height-a.SliderSize)/(a.MaxValue-a.MinValue));c.style.pixelTop=b*(a.Value-a.MinValue)}return c},_CreateSliderTrack:function(a){var b=document.createElement("DIV");b.id=a.Id+"_track";if(a.Type=="x"){b.style.height=a.TrackSize+"px";b.style.width=a.Width+"px"}else{b.style.height=a.Height+"px";b.style.width=a.TrackSize+"px"}b.style.overflow="hidden";b.style.position="relative";b.style.zIndex=1;if(a.Type=="x"){if(IS.IsHTML5DocType()){b.style.position="absolute";b.style.marginTop="-1px";b.style.top="50%"}else{b.style.pixelTop=Math.round((a.Height+a.TrackSize)/2)*-1}}else{b.style.pixelLeft=Math.round((a.Width/2)-(a.TrackSize/2));b.style.pixelTop=a.SliderSize*-1}b.style.borderTop="#7496c2 1px solid";b.style.borderBottom="white 1px solid";return b},_CreateSlidebar:function(a,c,d){var b=document.createElement("DIV");b.id=a.Id;b.tabIndex=1;if(a.Type=="x"){b.style.cssText="float:left;overflow:hidden;position:relative"}else{b.style.cssText="overflow: hidden"}b.style.width=a.Width+"px";b.style.height=a.Height+"px";b.style.backgroundColor="transparent";b.style.zIndex=0;b.appendChild(c);setTimeout(function(){if(c.currentStyle.width!=""&&c.currentStyle.width!="auto"){a.SliderSize=parseInt(c.currentStyle.width)}else{c.width=a.SliderSize}},10);if(d!=null){b.appendChild(d)}return b},_XmlDoc:function(){var a=document.createElement("XML");a.id="Slidebar_x";a.innerHTML="<Slidebar width='200' height='5' type='x' value='0' maxvalue='' minvalue=''></Slidebar>";return a},_Initialize:function(d,a,h,b){var i=SlidebarEngine._XmlDoc();var f=SlidebarEngine._CreateSlider(b);var g=null;if(b.TrackSize>0){g=SlidebarEngine._CreateSliderTrack(b)}var e=SlidebarEngine._CreateSlidebar(b,f,g);var c=document.getElementById(d);c.style.pixelWidth=e.style.pixelWidth;c.appendChild(e);IS.RuntimeObjects.push(b);Listener.Add(document.getElementById(a),"onmousedown",function(){SlidebarEngine.onMouseDownHandler(a)});Listener.Add(document.getElementById(a+"_track"),"onmousedown",function(){SlidebarEngine.onMouseDownHandler(a)});Listener.Add(document,"onmouseup",SlidebarEngine.onMouseUpHandler);Listener.Add(document,"onmousemove",SlidebarEngine.onMouseMoveHandler)},_CalculateValue:function(a,d,c){if(IS.IsAvailableRuntimeObjectById(c)){objSlidebar=IS.GetRuntimeObjectById(c)}var b;b=a.parentElement;if(d=="y"){return((a.style.pixelTop/(b.offsetHeight-a.offsetHeight))*(parseFloat(objSlidebar.MaxValue)-parseFloat(objSlidebar.MinValue)))}else{return((a.style.pixelLeft/(b.clientWidth-a.clientWidth))*(parseFloat(objSlidebar.MaxValue)-parseFloat(objSlidebar.MinValue)))}},_Rounding:function(a,c){var b=c%a;if(b<a/2){return Math.floor(c/a)*a}else{return Math.ceil(c/a)*a}}};function Slidebar(placeholderId,id,type,imgPath){this.Type=type;this.Id=id;if(type=="x"){this.Width=200;this.Height=20}else{this.Width=20;this.Height=200}this.SliderSize=10;this.MaxValue=10;this.MinValue=0;this.Interval=1;this.IntervalLarge=2;this.OnChange=null;this.OnEnter=null;this.OnCancel=null;this.Value=1;this.ImagesFolder=imgPath;this.SliderImage="";this.TrackSize=5;this.ClassName="Slidebar";this.PlaceholderId=placeholderId;this.Initialize=function(){SlidebarEngine._Initialize(this.PlaceholderId,this.Id,this.Type,this)};this.OnUnload=function(){Listener.Unload(document);Listener.Unload(placeholderId)};this.SetValue=function(newValue){this.Value=newValue;var pixelInterval=((this.Width-this.SliderSize)/(this.MaxValue-this.MinValue));var slider=document.getElementById(this.Id+"_slider");slider.style.pixelLeft=pixelInterval*(this.Value-this.MinValue)};this._onChangeHandler=function(){if(this.OnChange!=null){ISEvent.Raise(this.OnChange,this)}};this._onDragEndHandler=function(){if(this.OnDragEnd!=null){ISEvent.Raise(this.OnDragEnd,this)}};this._onEnterHandler=function(){if(this.OnEnter!=null){eval(this.OnEnter)}};this._onCancelHandler=function(){if(this.OnCancel!=null){eval(this.OnCancel)}};this.SetActive=function(){SlidebarEngine._Id=this.Id;SlidebarEngine._active=true};this.Redraw=function(){var _slidebar=document.getElementById(this.Id);Listener.Remove(document.getElementById(id),"onmousedown",SlidebarEngine.onMouseDownHandler);var placeholder=document.getElementById(placeholderId);placeholder.removeChild(_slidebar);var slider=SlidebarEngine._CreateSlider(this);var track=null;if(this.TrackSize>0){track=SlidebarEngine._CreateSliderTrack(this)}var slidebar=SlidebarEngine._CreateSlidebar(this,slider,track);placeholder.style.pixelWidth=slidebar.style.pixelWidth;placeholder.appendChild(slidebar);var _id=this.Id;Listener.Add(document.getElementById(_id),"onmousedown",function(){SlidebarEngine.onMouseDownHandler(_id)})};ISControl.call(this,id);this.PreparePostBackData=function(){}}if(typeof(Sys)!="undefined"){Sys.Application.notifyScriptLoaded()};